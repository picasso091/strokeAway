<html lang="en">
   <head> 
      <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
      <meta http-equiv="X-UA-Compatible" content="ie=edge"> 
      <script src="https://code.jquery.com/jquery-3.3.1.js"></script> 
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.js"></script> 
      <title>Stroke Away|Reports </title> 
      <h1 style = "text-align: center; color: red;"> Reports generated from the data collected</h1>
      {% load static %}
      <link rel="stylesheet" href="{% static 'css/style.css' %}">
      <script>
        $(function () {
            var ctx = document.getElementById("chart1").getContext('2d');
            var data = {
                datasets: [{
                    label: "Average Glucose Level in Male and Female",
                    data: [{% for data in fdata %} {{data.avg_glucose_level}}, {% endfor %}],
                    backgroundColor: [
                        '#3c8dbc',
                        '#f56954',
                        '#f39c12',
                    ],
                }],
                labels: ['Male', 'Female']
            };
            var mybarChart = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12
                        }
                    }
                }
            });

            var ctx_2 = document.getElementById("chart2").getContext('2d');
            var data_2 = {
                datasets: [{
                    label: "Average glucose level in residence type",
                    data: [{% for data in fdata %} {{data.avg_glucose_level}}, {% endfor %}],
                    backgroundColor: [
                        '#3c8dbc',
                        '#f56954',
                        '#f39c12',
                    ],
                }],
                labels: ['Urban', 'Rural']
            };
            var mybarChart_2 = new Chart(ctx_2, {
                type: 'bar',
                data: data_2,
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12
                        }
                    }
                }
            });

            var ctx = document.getElementById("chart3").getContext('2d');
            var data = {
                datasets: [{
                    label: "Smoking Status according to age",
                    data: [{% for data in fdata %} {{data.age}}, {% endfor %}],
                    backgroundColor: [
                        '#3c8dbc',
                        '#f56954',
                        '#42B557',
                        '#f39c12',
                    ],
                }],
                labels: ['Smokes', 'Formerly Smoked', 'Never Smoked', 'Unknown'],
            };
            var mybarChart_3 = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12
                        }
                    }
                }
            });

            var ctx = document.getElementById("chart4").getContext('2d');
            var data = {
                datasets: [{
                    label: 'Average glucose level for different work type',
                    data: [{% for data in fdata %} {{data.avg_glucose_level}}, {% endfor %}],
                    backgroundColor: [
                        '#3c8dbc',
                        '#f56954',
                        '#f39c12',
                        '#42B557',
                         '#2F3244',
                    ],
                }],
                labels: ['Private', 'Government', 'Self Employed', 'Children', 'Never Worked '],
            };
            var mybarChart_4 = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12
                        }
                    }
                }
            });

            var ctx = document.getElementById("chart5").getContext('2d');
            var data = {
                datasets: [{
                    label: 'Obesity level for different range of body fat',
                    data: [{% for data in pdata %} {{data.bodyfat}}, {% endfor %}],
                    backgroundColor: [
                    '#f39c12',
                    ],
                }],
                labels: ['Severe Obesity','Obesity II','Obesity I','Underweight','Normal'],
                // data: [{% for data in pdata %} {{data.bodyfat}}, {% endfor %}],
            };
            var mybarChart_5 = new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12
                        }
                    }
                }
            });

            var ctx = document.getElementById("chart6").getContext('2d');
            var data = {
                datasets: [{
                    label: 'Stroke Status according to body fat',
                    data: [{% for data in pdata %} {{data.bodyfat}}, {% endfor %}],
                    backgroundColor: [
                    '#f56954',
                        '#42B557',
                        
                    ],
                }],
                labels: ['Stroke Risk', 'No Stroke Risk'],
            };
            var mybarChart_6 = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12
                        }
                    }
                }
            });
        });
    
      </script> 
   </head> 
   <body> 
       <div class="reports" style="display: flex;justify-content: space-evenly;flex-wrap: wrap;margin: auto;">
      <div style = "float:left; margin-top:30px; margin-left:50px;"> 
         <canvas id="chart1" width="330px" height="330px"></canvas> 
      </div> 
      <div style = "float:left; margin-top:30px; margin-left:50px;"> 
         <canvas id="chart2" width="330px" height="330px" ></canvas> 
      </div>  
      <div style = "float:left; margin-top:30px; margin-left:50px;"> 
        <canvas id="chart3" width="330px" height="330px" ></canvas> 
     </div>  
     <div style = "float:left; margin-top:50px; margin-left:50px;"> 
        <canvas id="chart4" width="330px" height="330px" ></canvas> 
     </div>  
     <div style = "float:left; margin-top:50px; margin-left:50px;"> 
        <canvas id="chart5" width="400px" height="330px"></canvas> 
     </div>  
     <div style = "float:left; margin-top:50px; margin-left:50px;">  
        <canvas id="chart6" width="330px" height="330px"></canvas> 
     </div> 
    </div> 
   </body>
</html>